:root{
  --bg:#0b0b0f;
  --panel: rgba(12,12,14,0.86);
  --panel-2: rgba(0,0,0,0.75);
  --accent:#ff66cc;
  --text:#f5f5f7;
  --muted:#c8c8cc;
  --radius:12px;
  --maxwidth:1100px;
}

*{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
html,body,#app{height:100%;margin:0;background:var(--bg);color:var(--text);}

/* Background */
#bg{
  position:fixed;inset:0;z-index:0;background:#111 center/cover no-repeat;transition:background-image .35s ease;
}

/* hotspots sit above the background */
#hotspots{position:fixed;inset:0;z-index:5;pointer-events:auto}

/* UI overlay (dialogue + portrait) */
#ui{
  position:relative;z-index:20;max-width:var(--maxwidth);width:95%;margin:24px auto;
  display:flex;gap:18px;align-items:flex-end;justify-content:center;pointer-events:none;
}

/* portrait column */
#portrait{width:320px;min-width:160px;height:520px;pointer-events:none;display:flex;align-items:flex-end;justify-content:center}
#portrait img{max-width:100%;max-height:100%;object-fit:contain;border-radius:10px;box-shadow:0 20px 50px rgba(0,0,0,0.6)}

/* dialogue column */
#dialog{flex:1;min-width:320px;display:flex;flex-direction:column;pointer-events:auto}
#namebox{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.12));padding:10px 12px;border-radius:10px 10px 0 0;color:var(--muted);font-weight:700;max-width:48%}
#textbox{background:var(--panel);padding:18px;border-radius:10px;min-height:120px;box-shadow:0 8px 20px rgba(0,0,0,0.6)}
#textbox:focus{outline:3px solid rgba(255,102,204,0.12)}
#text{margin:0;font-size:17px;line-height:1.6;color:var(--text)}

/* choices */
#choices{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
.choice-btn{background:#1b1b1f;border:1px solid rgba(255,255,255,0.04);padding:10px 14px;border-radius:10px;cursor:pointer;min-width:140px;color:var(--text);font-weight:700}
.choice-btn:hover{transform:translateY(-4px);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12))}

/* controls */
#controls{display:flex;gap:10px;margin-top:14px}
#controls button{padding:8px 12px;border-radius:8px;border:none;background:var(--accent);color:#111;font-weight:800;cursor:pointer}
#controls button:hover{opacity:.94}

/* Error banner */
#error-banner{position:fixed;left:12px;top:12px;background:#ff6666;color:#111;padding:8px 12px;border-radius:8px;z-index:60}
.hidden{display:none}

/* Hotspot modal */
#hotspot-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:60}
.modal-inner{background:var(--panel);padding:18px;border-radius:12px;max-width:640px;width:90%}
.hs-name{font-weight:800;margin-bottom:8px;color:var(--muted)}
.hs-text{margin-bottom:12px}
.hs-choices{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
#hs-close{padding:8px 12px;border-radius:8px;border:none;background:#444;color:#fff;cursor:pointer}

/* Hotspot visual (for debugging you can make them more visible) */
.hotspot{position:absolute;border:2px dashed rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);padding:6px;border-radius:8px;color:var(--text);font-size:12px}
.hotspot:hover{border-color:rgba(255,255,255,0.14);transform:translateY(-4px)}

/* Responsive */
@media (max-width:920px){
  #ui{flex-direction:column;align-items:center}
  #portrait{width:80%;height:260px;order:2}
  #dialog{order:1;width:100%}
}
